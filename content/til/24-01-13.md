---
title: "무한스크롤과 IntersectionObserver"
date: "2024-01-13"
description: ""
tags: [Til]
hashtags: [infinite, scroll, intersectionObserver, popup]
# thumbnail: /thumbnails/hello-world.jpg
# order: 32
# draft: true
---

어떤 버튼을 누르면 팔로우 목록 리스트가 팝업으로 나오는 기능을 추가하려고 했다.

팔로우 수는 제한이 없기에 무한정 나올수 있었고, 무한스크롤로 구현하려고했는데

다음 페이지의 데이터가 제대로 불러와지지 않았다.

<br/>

- 무한스크롤 옵저버 코드의 경우, 팝업에 있는 스크롤에 적응하게되면 해당 로직이 실행될때는 렌더링이 안되므로 원하는 결과가 안나올 수 있다.

- 따라서 팝업이 미리 렌더링되는게 아니라 버튼을 누를 그때 렌더링하게 하면, 옵저버 코드를 할 수 있긴하다

- 즉, 버튼을 누르자마자 바로뜨게 하려고 팝업을 미리 렌더링해두면 렌더링된 시점에서는 해당 팝업내부의 스크롤이 화면에 나타나지 않기 때문에 IntersectionObserver가 제대로 동작하지 않을 수 있다.

- 다른 방법으로는 데이터는 미리 요청하고 팝업 렌더링하는건 누르는 시점에 맞춰하는 방법도 있다.

<br/>

근데 팔로우 리스트를 보지않는 사람도 일단 데이터 요청을 해둔다는것이 옳게 구현하는 방법인가 의문이 든다!
