---
title: "팝업 하나를 구현하는데 어떤 것들을 고려할 수 있을까?"
date: "2024-06-11"
description: "단순히 팝업 하나가 아니다. 간단한게 하나도 없다"
tags: [Ticle]
hashtags:
  [
    popup,
    fetch,
    loading,
    snackbar,
    light,
    dark,
    web,
    focus,
    dynamic,
    import,
    locale,
    theme,
    data,
    state,
    mobile,
  ]
# thumbnail: /thumbnails/hello-world.jpg
# order: 32
---

## 팝업을 하나 구현한다고 하자

단순하게 일정을 기록하는 팝업을 구현한다고 해보자

간단하게는 제목, 내용, 취소, 저장 버튼을 구현할 수 있다.

### 0. 기본적으로 저장 버튼을 누르면 서버에 요청하여 저장한다.

여기서 조금씩 발전시켜보는거다.

### 1. 저장될때까지 로딩처리를 넣자

로딩은 간단히 버튼만 disabled 처리하는것도 있고

팝업을 끄고 페이지 로딩을 하는 경우도 있고 다양하게 적용할 수 있다.

### 2. 에러가 발생했다면 스낵바를 통해 사용자에게 알려주자

제대로 저장이 안되었을때 에러상황에 대해서 스낵바로 알려주자

사용자에게 현재 상황을 설명하는것에서 그칠 수 있고

해결방안을 제시할 수 있으며

센트리와 같은 라이브러리를 사용중이라면 에러 리포트를 자세히 볼 수 있다.

### 3. 성공적으로 저장했을때 상황을 알려주자

저장후에 팝업만 꺼지게 되면 제대로 저장이 되었는지,

아니면 에러가 발생했는지 알 수 없다.

이때 정상적으로 저장이 되었을 경우 스낵바를 통해 정상적으로 수행되었음을 알릴수 있다.

그리고 refetch를 통해 사용자가 새로고침을 하지 않아도 정보를 업데이트 시켜주는 등

부가적으로 더 도와줄 수 있다.

### 4. 유효성 검사를 해보자

필수 항목을 지정하고 그 항목이 제대로 입력이 안되었을때 저장버튼이 비활성화 되게 할 수 있다.

혹은 최대 글자수를 지정하고 그 이상으로는 입력조차 안되게 하거나 입력은 되나 경고를 줄 수 있다.

당장은 유효성 검사가 사용자에게 불편한 제약 같지만 서비스 전반적으로 예상가능한 서비스를 만드는데 기여한다.

### 5. 더 나아가서 반응형을 고려하자

사용자들은 웹으로만 접속하지 않는다.

반응형은 간단하게 구현한다면 여러 디스플레이 크기에 따라 깨지지 않게 적용할수도 있고

디스플레이 사이즈를 나누어 최적화된 레이아웃을 제공할 수있다.

### 6. 글로벌 시대에 번역도 한번 해보자

번역은 프론트단에서 JSON파일로 작성된것을 보여주는 방법과

서버에 요청하여 받아와서 보여주는 방법이 있다.

번역파일을 DB에 저장하고 있으면 어드민 페이지 같은 곳에서 프론트 개발자가 아닌 사람도 관리가 가능하다는 장점이 있지만 아무래도 통신과정이 생겨서 속도는 느릴수 있다.

### 7. 테마에 따른 디자인을 적용한다.

거의 기본이 되어버린 다크모드, 라이트모드에 따른 디자인 적용이 있다.

### 8. 모바일 환경을 고려해서 뒤로가기를 눌렀을때 꺼지도록 해보자

이제는 사용성 개선 측면으로 넘어가보자

모바일 사용자는 앱 환경에 익숙하여 팝업이 켜지게 되면 뒤로가기로 끄려고 할 수 있다.

혹은 모바일에서 팝업은 화면크기가 작기 때문에 화면 가득 채워질 수 있으며

자칫 팝업이 아니라 페이지로 인식할 수 있다.

따라서 뒤로가기 이벤트에서 팝업을 꺼지도록 지원 할 수 있다.

### 9. 팝업 가장자리 여백을 누르면 꺼지게 해보자

주로 바텀시트나 검색창과 같은 곳에 적용되는 효과인데

해당 팝업이 아닌 여백을 클릭하여 끄게하는 효과이다.

### 10. 엔터를 누르면 저장이 되고 esc를 누르면 꺼지게도 해보자

키보드를 이용하게 되면 esc를 누르면 팝업이 꺼지게하고

엔터를 누르면 저장버튼이 눌리게 할 수 있다.

### 11. 작성중인데 꺼버리면 저장이 되지 않으니 취소버튼을 눌렀을때 안내 팝업도 띄우자

쉽게 끄는 방법들을 제공했으니 이제는 정보가 날라가지 않게 안전장치도 제공해보자

꺼지려고할때 입력값이 있다면 바로 꺼지지 않게하고 안내팝업을 띄워서 데이터가 날라가는 것을 보호할 수 있다.

### 12. 팝업이 켜지면 바로 제목 텍스트필드에 포커싱이 가서 입력을 편하게 해보자

팝업을 키는 사람은 입력을 하기 위한 사람이므로

팝업이 열리고나서 가장 처음 텍스트 필드를 클릭하는 동작을 거친다.

이 과정을 생략해주어 편리함을 제공해줄 수 있다.

### 13. 모든 사용자가 다 이 팝업을 이용하지는 않을테니 dynamic import를 통해 지연로딩을 적용하자

이제는 이 팝업을 쓰지 않는 사람들을 고려해보자

서비스를 이용하는 모든 사람들이 팝업을 이용하지는 않을테니

지연로딩을 적용할 수 있다.

이때 어느 시점에 요청할 건지에 대한것은 정하기 나름인데

버튼을 눌렀을때 / 버튼에 마우스를 가져다 대었을때 / 화면에 버튼이 등장했을때 / 팝업을 제외한 모든것에 대한 요청을 마친뒤 등등

### 14. 좀더 컴포넌트를 확장해서 일정을 생성뿐 아니라 수정하는 기능도 추가하자

확장성을 고려하여 생성팝업에 수정팝업도 같이 고려해보자

초기 데이터를 넣어주어 데이터가 있다면 초기값에 대해서 수정하는 기능을 제공하고

초기값이 없다면 생성하는 기능을 제공할 수 있다.

### 15. 이 팝업이 정말 필요한 기능인지 데이터 수집을 해보자

클릭이벤트가 발생할때마다 데이터를 수집하여 정말로 필요한 기능인지

혹은 어떠한 유저가 많이 사용하는지 체크하여 데이터 기반하여 다음 의사결정을 내릴 수 있다.

> 요즘 회사에서 기능 구현할때 드는 생각들이다.
>
> 하나를 추가하는것에도 이렇게나 고려할게 많다.
>
> 그래서 점점 경험이 많이질 수록 구현을 바로하기보다 생각하는 시간이 더 길어지는것 같다.
